function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n,r,a,o,i,l,c,u,d,s,m,p=document.querySelector("body"),f=document.querySelector("thead").querySelector("tr"),v=document.querySelector("tbody"),h=function(e){return"string"==typeof e&&e?parseInt(e.replace(/[$, ]/g,""),10):NaN},C=function(e,t){var n=h(e),r=h(t);return Number.isNaN(n)?y?t.localeCompare(e):e.localeCompare(t):y?r-n:n-r},y=!1,b=(r=["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"],a=function(e,t){var n=document.createElement("label"),r=document.createElement("input");return n.textContent="".concat(e,":"),r.setAttribute("data-qa",e.toLowerCase()),r.required=!0,r.type=t,n.appendChild(r),n},o=document.createElement("form"),i=a("Name","text"),l=a("Position","text"),c=document.createElement("label"),u=document.createElement("select"),d=a("Age","number"),s=a("Salary","number"),m=document.createElement("button"),o.classList.add("new-employee-form"),c.textContent="Office:",c.appendChild(u),u.setAttribute("data-qa","office"),u.required=!0,m.type="Submit",m.textContent="Save to table",r.forEach(function(e){var t=document.createElement("option");t.value=e,t.textContent=e,u.appendChild(t)}),o.appendChild(i),o.appendChild(l),o.appendChild(c),o.appendChild(d),o.appendChild(s),o.appendChild(m),p.appendChild(o),o),g=t(b.children).slice(0,-1).map(function(e){return e.firstElementChild}),E=b.querySelector("button"),S=function(e,t,n){var r=document.createElement("div"),a=document.createElement("h2"),o=document.createElement("p");r.setAttribute("data-qa","notification"),a.classList.add("title"),("success"===n||"error"===n)&&r.classList.add("notification",n),a.textContent=e,o.textContent=t,r.appendChild(a),r.appendChild(o),p.appendChild(r),setTimeout(function(){r.style.display="none"},1e4)};E.addEventListener("click",function(e){e.preventDefault();var n=document.querySelector(".notification"),r=[];if(n&&n.remove(),g[0].value.trim().length<4&&(r=t(r).concat(["Name must be longer that 4 symbol"])),g[1].value.trim().length<4&&(r=t(r).concat(["Position must be longer that 4 symbol"])),(""===g[3].value||g[3].value<18||g[3].value>90)&&(r=t(r).concat(["Age must be bigger than 18, but less then 100"])),(""===g[4].value||g[4].value<5e4)&&(r=t(r).concat(["Our workers is not homeless. They earns more that 50000$/year"])),0!==r.length)return S("Error",r.join("\n"),"error");for(var a=document.createElement("tr"),o=0;o<g.length;o++){var i=document.createElement("td");if(4===o){var l=parseInt(g[o].value.trim());i.textContent="$".concat(l.toLocaleString("en-US"))}else i.textContent=g[o].value.trim();a.appendChild(i)}return g.forEach(function(e,t){2!==t&&(e.value="")}),v.appendChild(a),S("Done","New employee added to list","success")}),v.addEventListener("dblclick",function(e){var n=e.target.closest("td"),r=t(e.target.closest("tr").children).indexOf(n),a=n.textContent;if("FORM"!==n.firstChild.tagName){var o=document.createElement("form"),i=document.createElement("label"),l=document.createElement("input");l.type=r<3?"text":"number",l.value=a,i.appendChild(l),o.setAttribute("previous",a),o.setAttribute("cellType",{0:"Name",1:"Position",2:"Office",3:"Age",4:"Salary"}[r]),o.appendChild(i),n.textContent="",n.appendChild(o)}}),f.addEventListener("click",function(e){var r=t(f.children),a=e.target.closest("th");if(null!==a){var o=r.indexOf(a),i=t(v.children);y=n===a&&!y,n=a;var l=i.sort(function(e,t){return C(e.children[o].textContent,t.children[o].textContent)});v.textContent="",l.forEach(function(e){v.appendChild(e)})}}),v.addEventListener("click",function(e){var t=e.target.closest("tr"),n=v.querySelector(".active");n&&n.classList.remove("active"),t.classList.add("active")}),v.addEventListener("submit",function(e){e.preventDefault();var n=e.target.closest("form");if(n){var r=n.parentElement,a=t(n.attributes),o=a.find(function(e){return"previous"===e.name}),i="Salary"===a.find(function(e){return"celltype"===e.name}).value,l=n.querySelector("input");if(""!==l.value.trim()){if(r.textContent="",i){var c=parseInt(l.value);r.textContent="$".concat(c.toLocaleString("en-US"))}else r.textContent=l.value}else r.textContent="",r.textContent=o.value}});
//# sourceMappingURL=index.9d3fc05a.js.map
